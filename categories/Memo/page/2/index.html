<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=5" name="viewport"><meta content="yes" name="mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><script>(()=>{let r="/cnfonts.js",n=document,e=n.createElement("link");e.rel="stylesheet",e.href="/fontchan/jBKCaHQX.css",e.blocking="render",e.onerror=()=>{var e=n.createElement("script");e.src=r,e.onload=()=>$fontchan.injectCss(),n.head.appendChild(e)},n.head.appendChild(e),"serviceWorker"in navigator&&navigator.serviceWorker.register(r,{scope:"/"}).then(e=>e.update())})()</script><title>Memo | hsfzxjy 的博客</title><link rel="stylesheet" href="/dist/css/style.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="alternate" type="application/rss+xml" href="/rss.xml"></head><body><nav class="nav"><span class="nav__toggler"><span class="nav__toggler-bar bar1"></span><span class="nav__toggler-bar bar2"></span><span class="nav__toggler-bar bar3"></span></span><span class="nav__core"><div class="nav__logo"><img src="/avatar.webp" loading="lazy"></div><a href="/" lang="zh" class="nav__brand">hsfzxjy</a></span><span class="nav__togglerClose"><span class="nav__togglerClose-circle"></span><span class="nav__togglerClose-bar bar1"></span><span class="nav__togglerClose-bar bar2"></span></span><div class="nav__pathIndicator"><a href="/categories/Memo/">Memo</a></div></nav><main class="mainContainer"><div class="post-list"><article lang="zh" class="post"><div class="post__title-block"><h1 class="post__title"><a href="/backup-apt-get/">如何备份 apt-get 已安装的软件列表</a></h1><span class="post__lang-tag font__ui">zh</span></div><div lang="zh" class="post__meta font__ui">2015-04-19 | <span class="post__meta-categories"><a href="/categories/Memo/">Memo</a></span></div><div data-post-id="a2ebfde98314e003d08ec3f7cd9327246385a61f7ba7335fbe33ab34de3f081e" class="post__content font__body"><p><code>apt-get</code> 是 Ubuntu 下管理软件包的一个工具，实用简单，功能强大。平时若要安装或卸载软件包，只需轻敲一条指令即可。每一台 Ubuntu 上，都安装着数以千百计的软件包——或是内核模块，或是工作、娱乐所需的软件，在它们的支持下，工作着这个开放的操作系统。</p><p>但，如果有一天，系统需要被重装——或是无可救药了，抑或是购置了新的设备，问题来了：</p><blockquote><p class="noindent">如何将现有电脑上的软件包迁移至新的系统呢？</p></blockquote><p class="par">很简单。首先，将原有的软件列表导出：</p><div class="gk-code hljs" data-gk-id="BLOCK1"><div class="gk-code-display"><pre><span class="line">sudo dpkg --get-selections  &gt; app-backup-list.lst</span><br></pre></div></div><p class="par">最好是设置一个定时任务，每隔一段时间就保存一次列表，并且要保存到一个独立的分区。以免某天系统真的坏了。</p><p>接下来便是导入了：</p><div class="gk-code hljs" data-gk-id="BLOCK2"><div class="gk-code-display"><pre><span class="line">sudo dpkg --set-selections &lt; app-backup-list.lst</span><br><span class="line">sudo apt-get -y update</span><br><span class="line">sudo apt-get dselect-upgrade</span><br></pre></div></div><p class="par">至于软件源的备份，只需将 <code>/etc/apt/sources.list</code> 文件复制过去即可。</p></div><div lang="zh" class="post__readmore font__ui"><a href="/backup-apt-get/">READ MORE</a></div></article><article lang="zh" class="post"><div class="post__title-block"><h1 class="post__title"><a href="/solution-of-network-broken-down-per-20s-under-ubuntu/">Ubuntu 网络每 20 秒断开重连一次的解决方案</a></h1><span class="post__lang-tag font__ui">zh</span></div><div lang="zh" class="post__meta font__ui">2015-03-31 | <span class="post__meta-categories"><a href="/categories/Memo/">Memo</a></span></div><div data-post-id="57155ac227100248a248f1655f7d238b012c24b3c768d9ef03399d66014db5a8" class="post__content font__body"><p class="par">从昨天到现在一直都有这个问题，刚刚突然就解决了，至今不明白原理，在此记录一下：</p><blockquote><p class="noindent">在网络设置中取消「需要 IPv6 完成这个链接」的选项</p></blockquote></div><div lang="zh" class="post__readmore font__ui"><a href="/solution-of-network-broken-down-per-20s-under-ubuntu/">READ MORE</a></div></article><article lang="zh" class="post"><div class="post__title-block"><h1 class="post__title"><a href="/kill-processes-under-ubuntu/">Ubuntu 杀死进程</a></h1><span class="post__lang-tag font__ui">zh</span></div><div lang="zh" class="post__meta font__ui">2015-03-02 | <span class="post__meta-categories"><a href="/categories/Memo/">Memo</a></span></div><div data-post-id="15599b1004da99a6d28633577061ea8ce9c8dbe575ae5b6e419b07b1bc732ec7" class="post__content font__body"><div class="gk-code hljs" data-gk-id="BLOCK1"><div class="gk-code-display"><pre><span class="line">ps -e <span class="hljs-comment">#查看进程列表</span></span><br><span class="line">sudo <span class="hljs-built_in">kill</span> &lt;pid&gt;</span><br></pre></div></div></div><div lang="zh" class="post__readmore font__ui"><a href="/kill-processes-under-ubuntu/">READ MORE</a></div></article><article lang="zh" class="post"><div class="post__title-block"><h1 class="post__title"><a href="/sublime-text-2-installation-under-ubuntu/">Ubuntu 安装 Sublime 2</a></h1><span class="post__lang-tag font__ui">zh</span></div><div lang="zh" class="post__meta font__ui">2014-12-29 | <span class="post__meta-categories"><a href="/categories/Memo/">Memo</a></span></div><div data-post-id="9609b29a5856374486472e22ccbb9744dad63e6c6b0200e23c351e7872aca318" class="post__content font__body"><div class="gk-code hljs" data-gk-id="BLOCK1"><div class="gk-code-display"><pre><span class="line">sudo add-apt-repository ppa:webupd8team/sublime-text-2</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install sublime-text-2</span><br></pre></div></div></div><div lang="zh" class="post__readmore font__ui"><a href="/sublime-text-2-installation-under-ubuntu/">READ MORE</a></div></article><article lang="zh" class="post"><div class="post__title-block"><h1 class="post__title"><a href="/add-custom-fonts-under-ubuntu/">Ubuntu 加入自己的字体</a></h1><span class="post__lang-tag font__ui">zh</span></div><div lang="zh" class="post__meta font__ui">2014-12-13 | <span class="post__meta-categories"><a href="/categories/Memo/">Memo</a></span></div><div data-post-id="7914562f4e4b53b3edb8141698a6622616f1a16d58e7729f6f02faafd2a72fab" class="post__content font__body"><p class="par">假设字体文件夹为：<code>～/Fonts</code>。执行：</p><div class="gk-code hljs" data-gk-id="BLOCK1"><div class="gk-code-display"><pre><span class="line">sudo <span class="hljs-built_in">mkdir</span> -p /usr/share/fonts/myFonts</span><br><span class="line">sudo <span class="hljs-built_in">cp</span> ~/Fonts/*.ttf /usr/share/fonts/myFonts/</span><br><span class="line">sudo <span class="hljs-built_in">chmod</span> 644 /usr/share/fonts/myFonts/*.ttf</span><br><span class="line"><span class="hljs-built_in">cd</span> /usr/share/fonts/winFonts/</span><br><span class="line">sudo mkfontscale  <span class="hljs-comment">#创建雅黑字体的fonts.scale文件，它用来控制字体旋转缩放</span></span><br><span class="line">sudo mkfontdir    <span class="hljs-comment">#创建雅黑字体的fonts.dir文件，它用来控制字体粗斜体产生</span></span><br><span class="line">sudo fc-cache -fv <span class="hljs-comment">#建立字体缓存信息，也就是让系统认识雅黑</span></span><br></pre></div></div></div><div lang="zh" class="post__readmore font__ui"><a href="/add-custom-fonts-under-ubuntu/">READ MORE</a></div></article><article lang="zh" class="post"><div class="post__title-block"><h1 class="post__title"><a href="/remove-broken-packages-under-ubuntu/">Ubuntu 下删除不完整的包</a></h1><span class="post__lang-tag font__ui">zh</span></div><div lang="zh" class="post__meta font__ui">2014-12-13 | <span class="post__meta-categories"><a href="/categories/Memo/">Memo</a></span></div><div data-post-id="ffe1cc368672e4d3e2e2d18552b1965835d4cd738711ac7342ec16241eb9d353" class="post__content font__body"><p class="par">答案来自 <a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/27455626/how-to-remove-an-incomplete-package-by-using-apt-get">StackOverflow</a>:</p><div class="gk-code hljs" data-gk-id="BLOCK1"><div class="gk-code-display"><pre><span class="line">sudo dpkg --remove --force-remove-reinstreq &lt;your package name&gt;</span><br></pre></div></div></div><div lang="zh" class="post__readmore font__ui"><a href="/remove-broken-packages-under-ubuntu/">READ MORE</a></div></article><article lang="zh" class="post"><div class="post__title-block"><h1 class="post__title"><a href="/solution-of-apt-get-error-hash-checksum-incorrect/">Ubuntu 下解决 apt-get“Hash 校验和不符的方案”</a></h1><span class="post__lang-tag font__ui">zh</span></div><div lang="zh" class="post__meta font__ui">2014-11-29 | <span class="post__meta-categories"><a href="/categories/Memo/">Memo</a></span></div><div data-post-id="bf9a809e54c0f3ae3504d583cbecaf733e58dd56745778f1d5b7068eddfe470e" class="post__content font__body"><p class="noindent">各种坑爹，我也不知道为什么：</p><div class="gk-code hljs" data-gk-id="BLOCK1"><div class="gk-code-display"><pre><span class="line">    sudo gedit etc/apt/apt.conf.d/00aptitude</span><br></pre></div></div><p class="par">最后加一行：<code>Acquire::CompressionTypes::Order &quot;gz&quot;;</code></p></div><div lang="zh" class="post__readmore font__ui"><a href="/solution-of-apt-get-error-hash-checksum-incorrect/">READ MORE</a></div></article><article lang="zh" class="post"><div class="post__title-block"><h1 class="post__title"><a href="/alter-mysql-character-set-under-ubuntu/">在 Ubuntu 下更改 MYSQL 的字符集</a></h1><span class="post__lang-tag font__ui">zh</span></div><div lang="zh" class="post__meta font__ui">2014-11-28 | <span class="post__meta-categories"><a href="/categories/Memo/">Memo</a></span></div><div data-post-id="a8ec54884d2abf33cc5ba7ce73121d653bbd5dd690c63f81c7e2fe51a7ca20cb" class="post__content font__body"><p class="noindent">修改 <code>/etc/mysql/my.cnf</code>：</p><div class="gk-code hljs" data-gk-id="BLOCK1"><div class="gk-code-display"><pre><span class="line"><span class="hljs-section">[client]</span></span><br><span class="line"><span class="hljs-attr">default-character-set</span>=utf8</span><br><span class="line"></span><br><span class="line"><span class="hljs-section">[mysqld]</span></span><br><span class="line"><span class="hljs-attr">character_set_server</span>=utf8</span><br><span class="line"></span><br><span class="line"><span class="hljs-section">[mysql]</span></span><br><span class="line"><span class="hljs-attr">default-character-set</span>=utf8</span><br></pre></div></div><p class="par">然后 <code>sudo service mysql restart</code></p></div><div lang="zh" class="post__readmore font__ui"><a href="/alter-mysql-character-set-under-ubuntu/">READ MORE</a></div></article><article lang="zh" class="post"><div class="post__title-block"><h1 class="post__title"><a href="/sublime-configuration-for-pascal/">Sublime configuration for Pascal</a></h1><span class="post__lang-tag font__ui">zh</span></div><div lang="zh" class="post__meta font__ui">2014-10-23 | <span class="post__meta-categories"><a href="/categories/Memo/">Memo</a></span></div><div data-post-id="aab7b1b507e74bf972233c353497ab2f350df8ab0fbc83ad30f2367d9e79349c" class="post__content font__body"><p class="noindent">鉴于 U 盘中 Sublime 的配置常常莫名其妙地消失，在此将其记录一下。</p><h2 id="code-6">Code</h2><div class="gk-code hljs" data-gk-id="BLOCK1"><div class="gk-code-display"><pre><span class="line"><span class="hljs-punctuation">{</span></span><br><span class="line">    <span class="hljs-attr">&quot;cmd&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;fpc&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;-S2&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;${file}&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;-o${file_path}/${file_base_name}.exe&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></span><br><span class="line">    <span class="hljs-attr">&quot;file_regex&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$&quot;</span><span class="hljs-punctuation">,</span></span><br><span class="line">    <span class="hljs-attr">&quot;working_dir&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;${file_path}&quot;</span><span class="hljs-punctuation">,</span></span><br><span class="line">    <span class="hljs-attr">&quot;selector&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;source.pascal&quot;</span><span class="hljs-punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-attr">&quot;variants&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></span><br><span class="line">        <span class="hljs-punctuation">{</span></span><br><span class="line">            <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Run&quot;</span><span class="hljs-punctuation">,</span></span><br><span class="line">            <span class="hljs-attr">&quot;cmd&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;cmd&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;/c&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;fpc&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;-S2&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;${file}&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;-o${file_path}/${file_base_name}.exe&quot;</span><span class="hljs-punctuation">,</span></span><br><span class="line">    <span class="hljs-string">&quot;&amp;&amp;&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;${file_path}/${file_base_name}.exe&quot;</span><span class="hljs-punctuation">]</span></span><br><span class="line">        <span class="hljs-punctuation">}</span></span><br><span class="line">    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-attr">&quot;osx&quot;</span><span class="hljs-punctuation">:</span></span><br><span class="line">    <span class="hljs-punctuation">{</span></span><br><span class="line">        <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/usr/local/bin:/usr/bin:/bin:${path}&quot;</span></span><br><span class="line">    <span class="hljs-punctuation">}</span></span><br><span class="line"><span class="hljs-punctuation">}</span></span><br></pre></div></div></div><div lang="zh" class="post__readmore font__ui"><a href="/sublime-configuration-for-pascal/">READ MORE</a></div></article><article lang="zh" class="post"><div class="post__title-block"><h1 class="post__title"><a href="/ubuntu-suddenly-no-wifi/">关于 Ubuntu 突然无法连接 Wifi 的解决方案</a></h1><span class="post__lang-tag font__ui">zh</span></div><div lang="zh" class="post__meta font__ui">2014-09-27 | <span class="post__meta-categories"><a href="/categories/Memo/">Memo</a></span></div><div data-post-id="e478526888ae570f24ad7aac0ca01fb7d3830641475928822205f17fe3a8bbb7" class="post__content font__body"><p>事实上我也不知道发生了什么，大概是几天前插了“小度 Wifi”的缘故。没有任何征兆地，Wifi 就用不了了。其实我也不知道原理，大概是某个驱动被刷掉了。下面是从网上找来的答案：</p><div class="gk-code hljs" data-gk-id="BLOCK1"><div class="gk-code-display"><pre><span class="line">sudo apt-get install wicd-daemon</span><br></pre></div></div><p>做个记录。</p></div><div lang="zh" class="post__readmore font__ui"><a href="/ubuntu-suddenly-no-wifi/">READ MORE</a></div></article></div><div lang="zh" class="page-navigator font__ui"><span class="page__button"><a href="/categories/Memo/" class="pre">PREV</a></span><span class="page__button"><a href="/categories/Memo/page/3/" class="next">NEXT</a></span></div></main><section class="aside__group"><span class="aside__btn"><div lang="zh" class="github-btn"><a href="#" rel="noopener noreferrer" target="_blank" class="gh-btn"><span class="gh-ico"></span><span class="gh-text">FOLLOW ME</span></a><a href="#" rel="noopener noreferrer" target="_blank" class="gh-count"></a></div><script>window.GH_BUTTON={username:"hsfzxjy"}</script></span><aside class="aside__left"><div class="aside__menuList"><span class="aside__menuList-item__icon"><i class="icon-home"></i></span><a href="/" class="aside__menuList-item"><span lang="zh" class="font__ui">首页 / Home</span></a><span class="aside__menuList-item__icon"><i class="icon-embed2"></i></span><a href="/categories/Tech/" class="aside__menuList-item"><span lang="zh" class="font__ui">科技 / Tech</span></a><span class="aside__menuList-item__icon"><i class="icon-android"></i></span><a href="/categories/Soliloquy/" class="aside__menuList-item"><span lang="zh" class="font__ui">呓语 / Soliloquy</span></a><span class="aside__menuList-item__icon"><i class="icon-leaf"></i></span><a href="/categories/Life/" class="aside__menuList-item"><span lang="zh" class="font__ui">生活 / Life</span></a><span class="aside__menuList-item__icon current"><i class="icon-bookmarks"></i></span><a href="/categories/Memo/" class="aside__menuList-item current"><span lang="zh" class="font__ui">速记 / Memo</span></a><span class="aside__menuList-item__icon"><i class="icon-books"></i></span><a href="/categories/Series/" class="aside__menuList-item"><span lang="zh" class="font__ui">连载 / Series</span></a><span class="aside__menuList-item__icon"><i class="icon-sigma"></i></span><a href="/works/" class="aside__menuList-item"><span lang="zh" class="font__ui">项目 / Projects</span></a><span class="aside__menuList-item__icon"><i class="icon-earth"></i></span><a href="/links/" class="aside__menuList-item"><span lang="zh" class="font__ui">友链 / Links</span></a><span class="aside__menuList-item__icon"><i class="icon-wink"></i></span><a href="/about/" class="aside__menuList-item"><span lang="zh" class="font__ui">关于 / About</span></a><span class="aside__menuList-item__icon"><i class="icon-history"></i></span><a href="/aggr/" class="aside__menuList-item"><span lang="zh" class="font__ui">索引 / Index</span></a><span class="aside__menuList-item__icon"><i class="icon-rss2"></i></span><a href="/rss.xml" class="aside__menuList-item"><span lang="zh" class="font__ui">订阅 / RSS</span></a></div></aside><aside class="aside__right"></aside></section><div id="footer" style="text-align:center" lang="zh" class="font__ui">© <a href="/" rel="nofollow">hsfzxjy 的博客.</a>&nbsp;Powered by&nbsp;<a rel="nofollow" target="_blank" href="https://hexo.io">Hexo.</a>&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/hsfzxjy/byak-hexo">Theme</a>&nbsp;by&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/hsfzxjy">hsfzxjy</a>.<div style="margin-top:10px"><a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44011202001249" style="display:inline-block;text-decoration:none;height:20px;line-height:20px"><img src="/img/beian.png" style="float:left" loading="lazy"><span style="float:left;height:20px;line-height:20px;margin:0 0 0 5px;color:#939393">粤公网安备44011202001249号</span></a><a target="_blank" style="display:inline-block;text-decoration:none;height:20px;line-height:20px" href="http://beian.miit.gov.cn/"><span style="float:left;height:20px;line-height:20px;margin:0 0 0 5px;color:#939393">粤ICP备2020075702号-1</span></a></div></div></body><script src="/dist/js/main.js" async defer></script></html>