"use strict";(()=>{var _e=Object.create;var Zt=Object.defineProperty;var Te=Object.getOwnPropertyDescriptor;var ke=Object.getOwnPropertyNames;var Me=Object.getPrototypeOf,$e=Object.prototype.hasOwnProperty;var Ce=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports);var He=(a,t,o,d)=>{if(t&&typeof t=="object"||typeof t=="function")for(let p of ke(t))!$e.call(a,p)&&p!==o&&Zt(a,p,{get:()=>t[p],enumerable:!(d=Te(t,p))||d.enumerable});return a};var Oe=(a,t,o)=>(o=a!=null?_e(Me(a)):{},He(t||!a||!a.__esModule?Zt(o,"default",{value:a,enumerable:!0}):o,a));var le=Ce((vt,ae)=>{(function(a,t){typeof vt=="object"&&typeof ae<"u"?t(vt):typeof define=="function"&&define.amd?define(["exports"],t):t((a=typeof globalThis<"u"?globalThis:a||self).littlefoot={})})(vt,function(a){"use strict";var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function o(i,r,n){return i(n={path:r,exports:{},require:function(u,E){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(E==null&&n.path)}},n.exports),n.exports}var d=o(function(i){var r,n,u,E,h,O,y,L,S,I,j,A,v,g,b,k,M,x,w,D,f,C,H;(function(){var _,N,F=typeof t=="object"?t:typeof self=="object"?self:typeof this=="object"?this:{};function P(e,s){return e!==F&&(typeof Object.create=="function"?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(c,m){return e[c]=s?s(c,m):m}}_=P(F,P(i.exports)),N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var c in s)s.hasOwnProperty(c)&&(e[c]=s[c])},r=function(e,s){function c(){this.constructor=e}N(e,s),e.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)},n=Object.assign||function(e){for(var s,c=1,m=arguments.length;c<m;c++)for(var l in s=arguments[c])Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l]);return e},u=function(e,s){var c={};for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.indexOf(l)<0&&(c[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,l=Object.getOwnPropertySymbols(e);m<l.length;m++)s.indexOf(l[m])<0&&Object.prototype.propertyIsEnumerable.call(e,l[m])&&(c[l[m]]=e[l[m]]);return c},E=function(e,s,c,m){var l,T=arguments.length,R=T<3?s:m===null?m=Object.getOwnPropertyDescriptor(s,c):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(e,s,c,m);else for(var W=e.length-1;0<=W;W--)(l=e[W])&&(R=(T<3?l(R):3<T?l(s,c,R):l(s,c))||R);return 3<T&&R&&Object.defineProperty(s,c,R),R},h=function(e,s){return function(c,m){s(c,m,e)}},O=function(e,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,s)},y=function(e,s,c,m){return new(c=c||Promise)(function(l,T){function R(J){try{Y(m.next(J))}catch($){T($)}}function W(J){try{Y(m.throw(J))}catch($){T($)}}function Y(J){var $;J.done?l(J.value):(($=J.value)instanceof c?$:new c(function(K){K($)})).then(R,W)}Y((m=m.apply(e,s||[])).next())})},L=function(e,s){var c,m,l,T={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},R={next:W(0),throw:W(1),return:W(2)};return typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function W(Y){return function(J){return function($){if(c)throw new TypeError("Generator is already executing.");for(;T;)try{if(c=1,m&&(l=2&$[0]?m.return:$[0]?m.throw||((l=m.return)&&l.call(m),0):m.next)&&!(l=l.call(m,$[1])).done)return l;switch(m=0,l&&($=[2&$[0],l.value]),$[0]){case 0:case 1:l=$;break;case 4:return T.label++,{value:$[1],done:!1};case 5:T.label++,m=$[1],$=[0];continue;case 7:$=T.ops.pop(),T.trys.pop();continue;default:if(!(l=0<(l=T.trys).length&&l[l.length-1])&&($[0]===6||$[0]===2)){T=0;continue}if($[0]===3&&(!l||$[1]>l[0]&&$[1]<l[3])){T.label=$[1];break}if($[0]===6&&T.label<l[1]){T.label=l[1],l=$;break}if(l&&T.label<l[2]){T.label=l[2],T.ops.push($);break}l[2]&&T.ops.pop(),T.trys.pop();continue}$=s.call(e,T)}catch(K){$=[6,K],m=0}finally{c=l=0}if(5&$[0])throw $[1];return{value:$[0]?$[1]:void 0,done:!0}}([Y,J])}}},H=function(e,s,c,m){m===void 0&&(m=c),e[m]=s[c]},S=function(e,s){for(var c in e)c==="default"||s.hasOwnProperty(c)||(s[c]=e[c])},I=function(e){var s=typeof Symbol=="function"&&Symbol.iterator,c=s&&e[s],m=0;if(c)return c.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&m>=e.length&&(e=void 0),{value:e&&e[m++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},j=function(e,s){var c=typeof Symbol=="function"&&e[Symbol.iterator];if(!c)return e;var m,l,T=c.call(e),R=[];try{for(;(s===void 0||0<s--)&&!(m=T.next()).done;)R.push(m.value)}catch(W){l={error:W}}finally{try{m&&!m.done&&(c=T.return)&&c.call(T)}finally{if(l)throw l.error}}return R},A=function(){for(var e=[],s=0;s<arguments.length;s++)e=e.concat(j(arguments[s]));return e},v=function(){for(var e=0,s=0,c=arguments.length;s<c;s++)e+=arguments[s].length;for(var m=Array(e),l=0,s=0;s<c;s++)for(var T=arguments[s],R=0,W=T.length;R<W;R++,l++)m[l]=T[R];return m},g=function(e){return this instanceof g?(this.v=e,this):new g(e)},b=function(e,s,c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=c.apply(e,s||[]),l=[],T={};return R("next"),R("throw"),R("return"),T[Symbol.asyncIterator]=function(){return this},T;function R(K){m[K]&&(T[K]=function(Z){return new Promise(function(st,St){1<l.push([K,Z,st,St])||W(K,Z)})})}function W(K,Z){try{(st=m[K](Z)).value instanceof g?Promise.resolve(st.value.v).then(Y,J):$(l[0][2],st)}catch(St){$(l[0][3],St)}var st}function Y(K){W("next",K)}function J(K){W("throw",K)}function $(K,Z){K(Z),l.shift(),l.length&&W(l[0][0],l[0][1])}},k=function(e){var s,c={};return m("next"),m("throw",function(l){throw l}),m("return"),c[Symbol.iterator]=function(){return this},c;function m(l,T){c[l]=e[l]?function(R){return(s=!s)?{value:g(e[l](R)),done:l==="return"}:T?T(R):R}:T}},M=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,c=e[Symbol.asyncIterator];return c?c.call(e):(e=I(e),s={},m("next"),m("throw"),m("return"),s[Symbol.asyncIterator]=function(){return this},s);function m(l){s[l]=e[l]&&function(T){return new Promise(function(R,W){var Y,J,$,K;T=e[l](T),Y=R,J=W,$=T.done,K=T.value,Promise.resolve(K).then(function(Z){Y({value:Z,done:$})},J)})}}},x=function(e,s){return Object.defineProperty?Object.defineProperty(e,"raw",{value:s}):e.raw=s,e},w=function(e){if(e&&e.__esModule)return e;var s={};if(e!=null)for(var c in e)Object.hasOwnProperty.call(e,c)&&(s[c]=e[c]);return s.default=e,s},D=function(e){return e&&e.__esModule?e:{default:e}},f=function(e,s){if(!s.has(e))throw new TypeError("attempted to get private field on non-instance");return s.get(e)},C=function(e,s,c){if(!s.has(e))throw new TypeError("attempted to set private field on non-instance");return s.set(e,c),c},_("__extends",r),_("__assign",n),_("__rest",u),_("__decorate",E),_("__param",h),_("__metadata",O),_("__awaiter",y),_("__generator",L),_("__exportStar",S),_("__createBinding",H),_("__values",I),_("__read",j),_("__spread",A),_("__spreadArrays",v),_("__await",g),_("__asyncGenerator",b),_("__asyncDelegator",k),_("__asyncValues",M),_("__makeTemplateObject",x),_("__importStar",w),_("__importDefault",D),_("__classPrivateFieldGet",f),_("__classPrivateFieldSet",C)})()}),p=o(function(i,r){r.__esModule=!0,r.getStyle=void 0,r.getStyle=function(n,u){var E,h=(((E=n.ownerDocument)===null||E===void 0?void 0:E.defaultView)||window).getComputedStyle(n);return h.getPropertyValue(u)||h[u]}}),B=o(function(i,r){r.__esModule=!0,r.pixels=void 0;var n=96,u=25.4,E=72,h=6;function O(y){return y?p.getStyle(y,"fontSize")||O(y.parentElement):p.getStyle(window.document.documentElement,"fontSize")}r.pixels=function y(L,S){var I,j,A,v,g,b,k=(j=(I=S?.ownerDocument)===null||I===void 0?void 0:I.defaultView)!==null&&j!==void 0?j:window,M=k.document.documentElement||k.document.body,x=(v=L||"0",g=parseFloat(v),b=v.match(/[\d-.]+(\w+)$/),[g,((A=b?.[1])!==null&&A!==void 0?A:"").toLowerCase()]),w=x[0];switch(x[1]){case"rem":return w*y(O(window.document.documentElement));case"em":return w*y(O(S),S?.parentElement);case"in":return w*n;case"q":return w*n/u/4;case"mm":return w*n/u;case"cm":return w*n*10/u;case"pt":return w*n/E;case"pc":return w*n/h;case"vh":return(w*k.innerHeight||M.clientWidth)/100;case"vw":return(w*k.innerWidth||M.clientHeight)/100;case"vmin":return w*Math.min(k.innerWidth||M.clientWidth,k.innerHeight||M.clientHeight)/100;case"vmax":return w*Math.max(k.innerWidth||M.clientWidth,k.innerHeight||M.clientHeight)/100;default:return w}}});function V(i,r){i.classList.add(r)}function q(i,r){i.classList.remove(r)}function X(i){var r;(r=i.parentNode)!==null&&r!==void 0&&r.removeChild(i)}var G="littlefoot-footnote__tooltip",U="is-positioned-";function At(i){var r=i.offsetHeight,n=i.getBoundingClientRect().top+r/2;return{top:n,bottom:window.innerHeight-n}}function bt(i){var r=parseFloat(p.getStyle(i,"marginLeft")),n=i.offsetWidth-r;return(i.getBoundingClientRect().left+n/2)/window.innerWidth}function Dt(i,r){var n=2*parseInt(p.getStyle(i,"marginTop"),10)+i.offsetHeight;return r.bottom<n&&r.bottom<r.top?"top":"bottom"}var rt="is-active",ot="is-changing",Pt="is-scrollable",Rt=function(i){return!!i.parentElement};function de(i){var r=i.id,n=i.button,u=i.content,E=i.host,h=i.popover,O=i.wrapper,y=!1,L=0;return{id:r,activate:function(S){var I;n.setAttribute("aria-expanded","true"),V(n,ot),V(n,rt),n.insertAdjacentElement("afterend",h),h.style.maxWidth=document.body.clientWidth+"px",I=u,L=Math.round(B.pixels(p.getStyle(I,"maxHeight"),I)),S?.(h,n)},dismiss:function(S){n.setAttribute("aria-expanded","false"),V(n,ot),q(n,rt),q(h,rt),S?.(h,n)},isActive:function(){return n.classList.contains(rt)},isReady:function(){return!n.classList.contains(ot)},isHovered:function(){return y},ready:function(){V(h,rt),q(n,ot)},remove:function(){X(h),q(n,ot)},reposition:function(){var S,I,j,A,v,g,b,k,M,x,w;Rt(h)&&(u.style.maxHeight=(b=h,k=L,M=At(n),x=Dt(b,M),w=parseInt(p.getStyle(b,"marginTop"),10),Math.min(k,M[x]-w-15)+"px"),v=Dt(S=h,At(I=n)),(g=S.dataset.footnotePosition)!==v&&(S.dataset.footnotePosition=v,q(S,""+U+g),V(S,""+U+v),j=100*bt(I)+"%",A=v==="top"?"100%":"0",S.style.transformOrigin=j+" "+A),h.offsetHeight<u.scrollHeight?(V(h,Pt),u.setAttribute("tabindex","0")):(q(h,Pt),u.removeAttribute("tabindex")))},resize:function(){var S,I,j,A;Rt(h)&&(h.style.left=(j=n,A=u.offsetWidth,-bt(j)*A+parseInt(p.getStyle(j,"marginLeft"),10)+j.offsetWidth/2+"px"),O.style.maxWidth=u.offsetWidth+"px",S=n,(I=h.querySelector("."+G))&&(I.style.left=100*bt(S)+"%"))},startHovering:function(){y=!0},stopHovering:function(){y=!1},destroy:function(){return X(E)}}}var wt=o(function(i,r){r.__esModule=!0,r.throttle=void 0,r.throttle=function(n,u){u===void 0&&(u=0);var E,h=0;return Object.assign(function(){for(var O=[],y=0;y<arguments.length;y++)O[y]=arguments[y];var L=Math.max(0,h+u-Date.now());L?(clearTimeout(E),E=setTimeout(function(){h=Date.now(),n.apply(void 0,O)},L)):(h=Date.now(),n.apply(void 0,O))},{cancel:function(){h=0,clearTimeout(E)}})}}),fe=16,Bt="is-fully-scrolled",he=function(i){return function(r){var n=r.currentTarget,u=-r.deltaY;0<u&&q(i,Bt),n&&u<=0&&u<n.clientHeight+n.scrollTop-n.scrollHeight&&V(i,Bt)}},Nt="littlefoot-footnote__content",qt="littlefoot-footnote__wrapper",ct="footnote-print-only",pe="littlefoot-footnote__host",Et=function(i){return V(i,ct)};function ut(i,r){return Array.from(i.querySelectorAll(r))}function Ft(i,r){return i.querySelector("."+r)||i.firstElementChild||i}function xt(i){var r=document.createElement("div");return r.innerHTML=i,r.firstElementChild}function me(i){return i!==void 0}function Wt(i){var r,n,u=(r=i,n=":not(."+ct+")",Array.from(r.children).filter(function(h){return h.nodeType!==8&&(!n||h.matches(n))})),E=u.filter(function(h){return h.tagName==="HR"});u.length===E.length&&(E.concat(i).forEach(Et),Wt(i.parentElement))}function zt(i){var r=i.parentElement;X(i);var n=r?.innerHTML.replace("[]","").replace("&nbsp;"," ").trim();r&&!n&&zt(r)}function ve(i,r){var n=xt(i.body.outerHTML);ut(n,'[href$="#'+i.referenceId+'"]').forEach(zt);var u=n.innerHTML.trim();return{original:i,data:{id:""+(r+1),number:r+1,reference:"lf-"+i.referenceId,content:u.startsWith("<")?u:"<p>"+u+"</p>"}}}var ge=function(i){var r=0,n=null;return function(u){var E=u.original,h=u.data,O=E.reference.closest(i);return r=n===O?r+1:1,n=O,{original:E,data:d.__assign(d.__assign({},h),{number:r})}}};function Kt(i){var r=/<%=?\s*(\w+?)\s*%>/g;return function(n){return i.replace(r,function(u,E){var h;return String((h=n[E])!==null&&h!==void 0?h:"")})}}function ye(i,r){var n=Kt(i),u=Kt(r);return function(E){var h=E.original,O=E.data,y=O.id,L=xt('<span class="'+pe+'">'+n(O)+"</span>"),S=L.firstElementChild;S.dataset.footnoteButton="",S.dataset.footnoteId=y,S.dataset.footnoteNumber=""+O.number;var I=xt(u(O));I.dataset.footnotePopover="",I.dataset.footnoteId=y;var j,A=Ft(I,qt),v=Ft(I,Nt);return j=I,v.addEventListener("wheel",wt.throttle(he(j),fe)),{original:h,data:O,id:y,button:S,host:L,popover:I,content:v,wrapper:A}}}function be(i){var r,n,u,E,h,O,y,L=i.allowDuplicates,S=i.anchorParentSelector,I=i.anchorPattern,j=i.buttonTemplate,A=i.contentTemplate,v=i.footnoteSelector,g=i.numberResetSelector,b=i.scope,k=(O=document,y=I,ut(O,b+' a[href*="#"]').filter(function(x){return(x.href+x.rel).match(y)}).map((r=document,n=L,u=S,E=v,h=[],function(x){var w="#"+x.href.split("#")[1].replace(/[:.+~*[\]]/g,"\\$&"),D=ut(r,w).find(function(H){return n||!h.includes(H)}),f=D?.closest(E);if(f){h.push(f);var C=x.closest(u)||x;return{reference:C,referenceId:C.id||x.id,body:f}}})).filter(me).map(ve).map(g?ge(g):function(x){return x}).map(ye(j,A)));k.forEach(function(x){var w,D,f=x.original,C=x.host;Et(f.reference),Et(f.body),Wt(f.body.parentElement),w=f.reference,D=C,w.insertAdjacentElement("beforebegin",D)});var M=k.map(de);return{footnotes:M,unmount:function(){M.forEach(function(x){return x.destroy()}),ut(document,"."+ct).forEach(function(x){return q(x,ct)})}}}var we={activateDelay:100,activateOnHover:!1,allowDuplicates:!0,allowMultiple:!1,anchorParentSelector:"sup",anchorPattern:/(fn|footnote|note)[:\-_\d]/gi,dismissDelay:100,dismissOnUnhover:!1,footnoteSelector:"li",hoverDelay:250,numberResetSelector:"",scope:"",contentTemplate:'<aside class="littlefoot-footnote" id="fncontent:<% id %>"><div class="'+qt+'"><div class="'+Nt+'"><% content %></div></div><div class="'+G+'"></div></aside>',buttonTemplate:'<button class="littlefoot-footnote__button littlefoot-footnote__button__ellipsis" id="<% reference %>" title="See Footnote <% number %>" aria-expanded="false"><svg role="img" aria-labelledby="title-<% reference %>" viewbox="0 0 31 6" preserveAspectRatio="xMidYMid"><title id="title-<% reference %>">Footnote <% number %></title><circle r="3" cx="3" cy="3" fill="white"></circle><circle r="3" cx="15" cy="3" fill="white"></circle><circle r="3" cx="27" cy="3" fill="white"></circle></svg></button>'};function Ee(i,r){function n(y){return function(L){L.isReady()&&(L.dismiss(r.dismissCallback),setTimeout(L.remove,y))}}function u(y){return function(L){r.allowMultiple||h.filter(function(S){return S.id!==L.id}).forEach(n(r.dismissDelay)),L.isReady()&&(L.activate(r.activateCallback),L.reposition(),L.resize(),setTimeout(L.ready,y))}}function E(y){return function(L){var S=h.find(function(I){return I.id===L});S&&y(S)}}var h=i.footnotes,O=i.unmount;return{activate:function(y,L){return E(u(L))(y)},dismiss:function(y,L){return E(n(L))(y)},dismissAll:function(){return h.forEach(n(r.dismissDelay))},repositionAll:function(){return h.forEach(function(y){return y.reposition()})},resizeAll:function(){return h.forEach(function(y){return y.resize()})},toggle:E(function(y){return(y.isActive()?n(r.dismissDelay):u(r.activateDelay))(y)}),hover:E(function(y){y.startHovering(),r.activateOnHover&&!y.isActive()&&u(r.hoverDelay)(y)}),unhover:E(function(y){y.stopHovering(),r.dismissOnUnhover&&setTimeout(function(){return h.filter(function(L){return!L.isHovered()}).forEach(n(r.dismissDelay))},r.hoverDelay)}),unmount:O}}function Lt(i,r){return i.target.closest(r)}function Vt(i){return i?.dataset.footnoteId}var xe=o(function(i,r){i.exports=function(){function n(){if(!(this instanceof n))return new n;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var u=window.document.documentElement,E=u.matches||u.webkitMatchesSelector||u.mozMatchesSelector||u.oMatchesSelector||u.msMatchesSelector;n.prototype.matchesSelector=function(v,g){return E.call(v,g)},n.prototype.querySelectorAll=function(v,g){return g.querySelectorAll(v)};var h=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;(n.prototype.indexes=[]).push({name:"ID",selector:function(g){var b;if(b=g.match(h))return b[0].slice(1)},element:function(g){if(g.id)return[g.id]}});var O=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;n.prototype.indexes.push({name:"CLASS",selector:function(g){var b;if(b=g.match(O))return b[0].slice(1)},element:function(g){var b=g.className;if(b){if(typeof b=="string")return b.split(/\s/);if(typeof b=="object"&&"baseVal"in b)return b.baseVal.split(/\s/)}}});var y=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g,L;n.prototype.indexes.push({name:"TAG",selector:function(g){var b;if(b=g.match(y))return b[0].toUpperCase()},element:function(g){return[g.nodeName.toUpperCase()]}}),n.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},typeof window.Map=="function"?L=window.Map:L=function(){function v(){this.map={}}return v.prototype.get=function(g){return this.map[g+" "]},v.prototype.set=function(g,b){this.map[g+" "]=b},v}();var S=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function I(v,g){v=v.slice(0).concat(v.default);var b=v.length,k,M,x,w,D=g,f,C,H=[];do if(S.exec(""),(x=S.exec(D))&&(D=x[3],x[2]||!D)){for(k=0;k<b;k++)if(C=v[k],f=C.selector(x[1])){for(M=H.length,w=!1;M--;)if(H[M].index===C&&H[M].key===f){w=!0;break}w||H.push({index:C,key:f});break}}while(x);return H}function j(v,g){var b,k,M;for(b=0,k=v.length;b<k;b++)if(M=v[b],g.isPrototypeOf(M))return M}function A(v,g){return v.id-g.id}return n.prototype.logDefaultIndexUsed=function(){},n.prototype.add=function(v,g){var b,k,M,x,w,D,f,C,H=this.activeIndexes,_=this.selectors,N=this.selectorObjects;if(typeof v=="string"){for(N[(b={id:this.uid++,selector:v,data:g}).id]=b,f=I(this.indexes,v),k=0;k<f.length;k++)x=(C=f[k]).key,(w=function(F,P){var e,s,c;for(e=0,s=F.length;e<s;e++)if(c=F[e],P.isPrototypeOf(c))return c}(H,M=C.index))||((w=Object.create(M)).map=new L,H.push(w)),M===this.indexes.default&&this.logDefaultIndexUsed(b),(D=w.map.get(x))||(D=[],w.map.set(x,D)),D.push(b);this.size++,_.push(v)}},n.prototype.remove=function(v,g){if(typeof v=="string"){for(var b,k,M,x,w,D,f=this.activeIndexes,C=this.selectors=[],H=this.selectorObjects,_={},N=arguments.length===1,F=I(this.indexes,v),P=0;P<F.length;P++)for(b=F[P],k=f.length;k--;)if(x=f[k],b.index.isPrototypeOf(x)){if(w=x.map.get(b.key))for(M=w.length;M--;)(D=w[M]).selector!==v||!N&&D.data!==g||(w.splice(M,1),_[D.id]=!0);break}for(P in _)delete H[P],this.size--;for(P in H)C.push(H[P].selector)}},n.prototype.queryAll=function(v){if(!this.selectors.length)return[];for(var g,b,k,M,x,w,D={},f=[],C=this.querySelectorAll(this.selectors.join(", "),v),H=0,_=C.length;H<_;H++)for(k=C[H],g=0,b=(M=this.matches(k)).length;g<b;g++)D[(w=M[g]).id]?x=D[w.id]:(x={id:w.id,selector:w.selector,data:w.data,elements:[]},D[w.id]=x,f.push(x)),x.elements.push(k);return f.sort(A)},n.prototype.matches=function(v){if(!v)return[];for(var g,b,k,M,x,w,D,f,C,H=this.activeIndexes,_={},N=[],F=0,P=H.length;F<P;F++)if(w=(x=H[F]).element(v)){for(g=0,k=w.length;g<k;g++)if(D=x.map.get(w[g]))for(b=0,M=D.length;b<M;b++)!_[C=(f=D[b]).id]&&this.matchesSelector(v,f.selector)&&(_[C]=!0,N.push(f))}return N.sort(A)},n}()}),dt=o(function(i,r){(function(n,u){u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u;var E={},h={},O=new WeakMap,y=new WeakMap,L=new WeakMap,S=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function I(f,C,H){var _=f[C];return f[C]=function(){return H.apply(f,arguments),_.apply(f,arguments)},f}function j(f,C,H){var _=[],N=C;do{if(N.nodeType!==1)break;var F=f.matches(N);if(F.length){var P={node:N,observers:F};H?_.unshift(P):_.push(P)}}while(N=N.parentElement);return _}function A(){O.set(this,!0)}function v(){O.set(this,!0),y.set(this,!0)}function g(){return L.get(this)||null}function b(f,C){S&&Object.defineProperty(f,"currentTarget",{configurable:!0,enumerable:!0,get:C||S.get})}function k(f){try{return f.eventPhase,!0}catch{return!1}}function M(f){if(k(f)){var C=f.eventPhase===1?h:E,H=C[f.type];if(H){var _=j(H,f.target,f.eventPhase===1);if(_.length){I(f,"stopPropagation",A),I(f,"stopImmediatePropagation",v),b(f,g);for(var N=0,F=_.length;N<F&&!O.get(f);N++){var P=_[N];L.set(f,P.node);for(var e=0,s=P.observers.length;e<s&&!y.get(f);e++)P.observers[e].data.call(P.node,f)}L.delete(f),b(f)}}}}function x(f,C,H){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=!!_.capture,F=N?h:E,P=F[f];P||(P=new u,F[f]=P,document.addEventListener(f,M,N)),P.add(C,H)}function w(f,C,H){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=!!_.capture,F=N?h:E,P=F[f];P&&(P.remove(C,H),!P.size&&(delete F[f],document.removeEventListener(f,M,N)))}function D(f,C,H){return f.dispatchEvent(new CustomEvent(C,{bubbles:!0,cancelable:!0,detail:H}))}n.fire=D,n.off=w,n.on=x,Object.defineProperty(n,"__esModule",{value:!0})})(r,xe)}),Ut=16,it="[data-footnote-id]",Le=function(i,r){return function(n){var u=Lt(n,"[data-footnote-button]"),E=Vt(u);E?i(E):Lt(n,"[data-footnote-popover]")||r()}},Gt=function(i){return function(r){r.preventDefault();var n=Lt(r,it),u=Vt(n);u&&i(u)}},Se=function(i){return function(r){r.keyCode!==27&&r.key!=="Escape"&&r.key!=="Esc"||i()}},ft=document.addEventListener,ht=document.removeEventListener,Jt=window.addEventListener,Xt=window.removeEventListener;function Yt(i){i===void 0&&(i={});var r,n,u,E,h,O,y,L=d.__assign(d.__assign({},we),i),S=Ee(be(L),L),I=(n=Le((r=S).toggle,r.dismissAll),u=Se(r.dismissAll),E=wt.throttle(r.repositionAll,Ut),h=wt.throttle(r.resizeAll,Ut),O=Gt(r.hover),y=Gt(r.unhover),ft("touchend",n),ft("click",n),ft("keyup",u),ft("gestureend",E),Jt("scroll",E),Jt("resize",h),dt.on("mouseover",it,O),dt.on("mouseout",it,y),function(){ht("touchend",n),ht("click",n),ht("keyup",u),ht("gestureend",E),Xt("scroll",E),Xt("resize",h),dt.off("mouseover",it,O),dt.off("mouseout",it,y)});return{activate:function(j,A){A===void 0&&(A=L.activateDelay),S.activate(j,A)},dismiss:function(j,A){A===void 0&&(A=L.dismissDelay),j===void 0?S.dismissAll():S.dismiss(j,A)},unmount:function(){I(),S.unmount()},getSetting:function(j){return L[j]},updateSetting:function(j,A){L[j]=A}}}a.default=Yt,a.littlefoot=Yt,Object.defineProperty(a,"__esModule",{value:!0})})});function Ie(a){return String(a).replace(/(\d)(?=(\d{3})+$)/g,"$1,")}async function Qt(a){let t=`gh-btn:${a}`,o=36e5,d=localStorage.getItem(t);if(d)try{let p=JSON.parse(d);if(p.data&&p.timestamp+o>Date.now()){_t(p.data);return}}catch(p){console.error("Error parsing cached data:",p)}try{let B=await(await fetch(a)).json();localStorage.setItem(t,JSON.stringify({data:B,timestamp:Date.now()})),_t(B)}catch(p){if(console.error("Error fetching data:",p),d)try{let B=JSON.parse(d);B.data&&_t(B.data)}catch(B){console.error("Error parsing fallback cached data:",B)}}}var je=window.GH_BUTTON,et=new Map([["user",je.username],["count","true"],["type","follow"]]),at=et.get("user"),ee=et.get("repo"),kt=et.get("type"),Ae=et.get("count"),De=et.get("size"),Pe=et.get("text"),mt=document.querySelector(".gh-btn"),ne=document.querySelector(".github-btn"),pt=document.querySelector(".gh-text"),tt=document.querySelector(".gh-count"),re="on GitHub",Tt="https://github.com/",te="https://api.github.com/",Re=`${Tt+at}/${ee}`;function _t(a){switch(kt){case"follow":{tt.textContent=a.followers&&Ie(a.followers),tt.setAttribute("aria-label",`${tt.textContent} followers ${re}`);break}}Ae==="true"&&tt.textContent!==""&&(tt.style.display="block",tt.removeAttribute("aria-hidden"))}mt.href=Re;var oe;switch(kt){case"follow":{ne.classList.add("github-me"),mt.href=Tt+at,tt.href=`${Tt+at}?tab=followers`,oe=pt.textContent;break}}Pe==="false"&&(mt.classList.add("no-text"),pt.setAttribute("aria-hidden","true"),pt.style.display="none",pt.textContent="");mt.setAttribute("aria-label",`${oe} ${re}`);De==="large"&&ne.classList.add("github-btn-large");Qt(kt==="follow"?`${te}users/${at}`:`${te}repos/${at}/${ee}`);function Q(a){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()}window.MathJax={tex:{inlineMath:[["$","$"]],autoload:{color:[],colorV2:["color"]},packages:{"[+]":["noerrors"]}},output:{displayOverflow:"linebreak",linebreaks:{inline:!0,width:"100%",lineleading:0,LinebreakVisitor:null}},SVG:{fontCache:"global"},chtml:{matchFontHeight:!1},options:{ignoreHtmlClass:"tex2jax_ignore",processHtmlClass:"tex2jax_process"},loader:{load:["input/tex","output/chtml"]}};window.__ams&&(window.MathJax.tex.tags=window.__ams);Q(()=>{let a=document.createElement("script");a.src="https://cdn.jsdelivr.net/npm/mathjax@4.0.0-beta.4/tex-chtml.js",a.async=!0,a.defer=!0,document.body.appendChild(a)});Q(()=>{let a=()=>{document.body.classList.toggle("aside-shown")};for(let t of[".nav__toggler",".nav__logo",".nav__togglerClose"])document.querySelector(t).addEventListener("click",a);document.querySelector(".mainContainer")?.addEventListener("click",t=>{let o=document.body.classList;o.contains("aside-shown")&&o.remove("aside-shown")})});Q(()=>{(()=>{let t=navigator.userAgent.toLowerCase();return/micromessenger/.test(t)})()&&document.querySelectorAll(".categories a, .tags a").forEach(t=>{t.addEventListener("click",function(o){o.preventDefault()})})});function se(a){return decodeURIComponent(a.getAttribute("href").slice(1))}Q(()=>{let a=document.querySelectorAll("#toc a");if(!a.length)return;let t=new Set;for(let q of a){let X=se(q);t.add(X)}let o=new Map;for(let q of a){let X=se(q),G=document.getElementById(X);if(!G)continue;let U=G;for(;U&&(o.set(U,q),U=U.nextElementSibling,!t.has(U?.getAttribute("id")??"")););}let d=new Map,p=q=>{let X=new Set;q.forEach(G=>{let U=o.get(G.target);U&&(d.has(U)||d.set(U,new Set),G.isIntersecting?d.get(U)?.add(G.target):d.get(U)?.delete(G.target),X.add(U))}),X.forEach(G=>{d.get(G)?.size?G.classList.add("active"):G.classList.remove("active")})},B={root:null,rootMargin:"0px 0px -50% 0px"},V=new IntersectionObserver(p,B);o.forEach((q,X)=>V.observe(X))});var ue=Oe(le());function ce(a,t){for(let o of a.querySelectorAll(".gk-unified-code"))new Mt(o,t);for(let o of a.querySelectorAll(".gk-code"))gt(o,t)}function gt(a,t,o){a.dataset.processed||(o?new yt(a,t,o,!0):(o=new nt,new yt(a,t,o,!1),o.placeEl(d=>a.before(d))))}var Mt=class{constructor(t,o){({tab:this.initTabStyle,row:this.initRowStyle,col:this.initColStyle})[t.dataset.gkStyle??"tab"](t,o)}initTabStyle(t,o){let d=new nt;for(let p of t.querySelectorAll(".gk-code"))gt(p,o,d);d.placeEl(p=>t.prepend(p))}initRowStyle(t,o){let d=[];for(let p of t.querySelectorAll(".gk-code")){let B=new nt;gt(p,o,B),d.push(B)}for(let p of d.reverse())p.placeEl(B=>t.prepend(B));t.style.setProperty("--gk-code-count",`${d.length}`)}initColStyle(t,o){for(let d of t.querySelectorAll(".gk-code")){let p=new nt;gt(d,o,p),p.placeEl(B=>d.before(B))}}},$t=class{constructor(){this.hue=0}nextColor(){return this.hue=(this.hue+137.508)%360,this.hue++,`hsla(${this.hue},50%,60%, 1)`}},Be=new $t,nt=class{constructor(){this.sms=[];this.tabs=[];this.activeIndex=0}create$ElList(){return this.$el?this.$elList:(this.$el=z("div",{class:"gk-tabber",children:[this.$elList=z("div",{class:"gk-tab-list"})]}),this.$elList)}onTabClick(t){this.activeIndex=t;for(let o=0;o<this.sms.length;o++)this.sms[o].set(t===o?"visible":"hidden");this.adjustIndicator()}add(t,o){let d=this.create$ElList(),p=z("div",{class:"gk-tab",children:t});d.append(p);let B=this.sms.length;p.addEventListener("click",()=>this.onTabClick(B)),this.sms.push(o),this.tabs.push(p),o.classSetter("gk-active","visible").bind(p)}placeEl(t){this.$el&&(this.onTabClick(0),this.$prevButton=z("div",{class:["gk-tab-button","gk-tab-button-prev","gk-disabled"],children:[z("span")]}),this.$prevButton.addEventListener("click",()=>{this.$elList.scrollBy({left:-100,behavior:"smooth"}),this.adjustButtons(this.$elList.scrollLeft-100)}),this.$el.append(this.$prevButton),this.$nextButton=z("div",{class:["gk-tab-button","gk-tab-button-next","gk-disabled"],children:[z("span")]}),this.$nextButton.addEventListener("click",()=>{this.$elList.scrollBy({left:100,behavior:"smooth"}),this.adjustButtons(this.$elList.scrollLeft+100)}),this.$el.append(this.$nextButton),t(this.$el),this.adjustButtons(0),new ResizeObserver(()=>{this.adjustButtons(this.$elList.scrollLeft),this.adjustIndicator()}).observe(this.$el))}adjustIndicator(){let t=0;for(let d=0;d<this.activeIndex;d++)t+=this.tabs[d].getBoundingClientRect().width;let o=this.tabs[this.activeIndex].getBoundingClientRect().width;this.$elList.style.setProperty("--gk-tab-indicator-left",`${t}px`),this.$elList.style.setProperty("--gk-tab-indicator-width",`${o}px`)}adjustButtons(t){let o=0;for(let p of this.tabs)o+=p.getBoundingClientRect().width;let d=this.$el.getBoundingClientRect().width;this.$prevButton.classList.toggle("gk-disabled",t<=0),this.$nextButton.classList.toggle("gk-disabled",o-t<=d+2)}},yt=class{constructor(t,o,d,p){this.$el=t;t.id=`${o}${t.dataset.gkId}`,t.dataset.processed="true";let B=t.querySelector(".gk-code-display > pre");new Ct(B,o,void 0);let V=lt.binary("visible","hidden","visible");V.classSetter("gk-hidden","hidden").bind(t);let q=this.$el.dataset.gkTitle;!q&&p&&(q=this.$el.dataset.gkId),q&&d.add(q,V)}},Ct=class a{constructor(t,o,d){this.$el=t;let p=t.dataset.gkSid;p&&(t.id=`${o}${p}`),d=this.createTooltip(d);for(let B of t.children)B.classList.contains("gk-section")&&new a(B,o,d);switch(t.dataset.gkType){case"zip":this.createZipper();break}}createTooltip(t){let o=this.$el.dataset.gkDesc;return o&&(t||(t=new Ot(this.$el)),t.register({for:this,content:o,show:!!this.$el.dataset.gkDescShow})),t}$firstLine(){return this.$el.querySelector(".line")}createZipper(){let t=lt.binary("visible","hidden","visible"),o=z("span",{class:"gk-ellipsis",children:"\u2026"}),d=this.$firstLine();d.appendChild(o),d.classList.add("gk-zip-first-line"),d.addEventListener("click",()=>{window.getSelection()?.isCollapsed&&t.advance()});let p=z("div",{class:"gk-gutter-line",children:[z("span",{class:"gk-icon-caret"})]});d.appendChild(p),this.$el.classList.contains("zipped")&&t.set("hidden"),t.classSetter("gk-hidden","hidden").bind(this.$el).bind(p).bind(o)}},Ht=class{constructor(t,o,d){this.container=t;this.option=o;this.level=d;this.linesCount=o.content.split(`
`).length,this.color=Be.nextColor(),this.layout()}layout(){let t=this.container.$el,o=this.level,d=z("div",{class:"gk-tooltip-vline1",style:{"--color":this.color,"--level":`${o}`}});t.appendChild(d);let p;this.option.content.startsWith("html:")?p={html:this.option.content.slice(5)}:p=this.option.content;let B=z("div",{class:"gk-tooltip-box",style:{"--color":this.color,"--level":`${o}`},children:[z("div",{class:"gk-tooltip-box-text",children:[z("span",{children:p})]})]});t.appendChild(B);let V=z("div",{class:"gk-tooltip-hline",style:{"--color":this.color,"--level":`${o}`}});B.prepend(V);let q=z("div",{class:"gk-tooltip-vline2",style:{"--color":this.color,"--level":`${o}`},children:[z("span")]});this.option.for.$el.prepend(q),this.container.switcherClassSetter.bind(q).bind(B)}},Ot=class{constructor(t){this.tooltips=[];this.switcherSM=lt.binary("visible","hidden","hidden");this.switcherClassSetter=this.switcherSM.classSetter("gk-hidden","hidden");this.$el=z("div",{class:"gk-tooltip-container"}),t.after(this.$el);let o,d=z("div",{class:"gk-tooltip-switcher",children:[o=z("div",{class:"gk-tooltip-switcher-button"})]});o.addEventListener("click",()=>this.switcherSM.advance()),this.$el.before(d),this.switcherClassSetter.bind(this.$el).bind(o)}register(t){this.tooltips.push(new Ht(this,t,this.tooltips.length)),t.show&&this.switcherSM.set("visible"),this.$el.style.setProperty("--n",`${this.tooltips.length}`)}},It=class{constructor(t){this.evalFn=t;this.elements=[]}bind(t){return this.elements.push(t),this.lastInput!==void 0&&this.fireElement(t,this.evalFn(this.lastInput)),this}fire(t){this.lastInput=t;let o=this.evalFn(t);for(let d of this.elements)this.fireElement(d,o)}},jt=class extends It{fireElement(t,o){for(let[d,p]of Object.entries(o))t.classList.toggle(d,p)}},lt=class a{constructor(t,o){this.map=t;this.state=o;this.handlers=[]}get currentState(){return this.state}fire(){for(let t of this.handlers)t(this.state)}onChanged(t){return this.handlers.push(t),t(this.state),this}set(t){this.state=t,this.fire()}advance(){this.set(this.map[this.state])}classSetter(t,o){let d=new jt(p=>({[t]:p===o}));return this.onChanged(p=>d.fire(p)),d}static binary(t,o,d){return new a({[t]:o,[o]:t},d)}};function z(a,t){let o=document.createElement(a);if(t?.class&&(typeof t.class=="string"?o.classList.add(t.class):o.classList.add(...t.class)),t?.style)for(let[d,p]of Object.entries(t.style))o.style.setProperty(d,p);if(t?.children)if(typeof t.children=="string")o.appendChild(document.createTextNode(t.children));else if(Array.isArray(t.children))for(let d of t.children)o.appendChild(d);else o.innerHTML=t.children.html;return o}window.ENDEC=window.ENDEC||{onCleartext(a){document.querySelectorAll("div.post__content").forEach(t=>a(t))}};window.ENDEC.onCleartext(a=>{let t=a.dataset.postId??"id";a.id=`post-${t}`});window.ENDEC.onCleartext(a=>{(0,ue.default)({scope:"#"+a.id})});window.ENDEC.onCleartext(a=>{ce(a,a.dataset.postId?`${a.id}-`:"")});window.ENDEC.onCleartext(a=>{a.querySelectorAll("h1,h2,h3,h4,h5,h6").forEach(t=>{if(!t.id)return;let o=document.createElement("a");o.classList.add("perma-link"),o.href=`#${t.id}`,o.textContent="#",t.prepend(o)})});window.ENDEC.onCleartext(()=>{let a=location.hash.replace(/^#/,""),t=document.getElementById(a);t&&window.addEventListener("load",()=>{setTimeout(()=>t.scrollIntoView({}),0)})});})();
//# sourceMappingURL=main.js.map
